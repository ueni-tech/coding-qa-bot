# コーディング規約QAボット

社内のコーディング規約PDFに対して自然言語で質問できるAI QAボットです。RAG（Retrieval-Augmented Generation）技術を使用して、ドキュメント内容に基づいた正確な回答を提供します。

## 📋 プロジェクト概要

### 作成背景
- 静的LPコーダーからAIエンハンスドエンジニアへのキャリアチェンジを目指すポートフォリオとして開発
- 社内での実用性を重視し、コーディング規約の質問対応を効率化することを想定
- RAG技術の理解と実装スキルの習得を目的として取り組みました

### 主な機能
- **PDFドキュメント読み込み**: コーディング規約PDFをアップロードして自動解析
- **自然言語質問**: 日本語での直感的な質問入力
- **AI回答生成**: OpenAI GPT-3.5-turboによる文脈に基づいた回答
- **参照元表示**: 回答の根拠となる元ドキュメント箇所を表示
- **チャット履歴**: 過去の質問・回答履歴の保存と確認
- **リアルタイム処理**: Streamlitによる即座な応答

## 🛠️ 技術スタック

### バックエンド
- **Python 3.11**: メイン開発言語
- **LangChain**: RAGシステム構築フレームワーク
- **OpenAI API**: GPT-3.5-turbo（回答生成）、text-embedding-ada-002（ベクトル化）
- **ChromaDB**: ベクトルデータベース（類似度検索）
- **PyPDF2**: PDF文書の解析・テキスト抽出

### フロントエンド
- **Streamlit**: Webアプリケーションフレームワーク
- **CSS**: カスタムスタイリング

### インフラ・開発環境
- **Docker & Docker Compose**: コンテナ化・環境統一
- **Poetry**: 依存関係管理
- **WSL2**: Windows開発環境
- **VSCode**: 統合開発環境

## 🏗️ システム構成

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Streamlit UI  │───▶│  LangChain RAG   │───▶│   OpenAI API     │
│   (フロント)      │    │   (メイン処理)     │    │  (AI処理)        │
└─────────────────┘    └──────────────────┘    └─────────────────┘
         │                        │                        
         ▼                        ▼                        
┌─────────────────┐    ┌──────────────────┐              
│   PDF Upload    │    │    ChromaDB      │              
│  (ファイル入力)   │    │ (ベクトルDB)       │              
└─────────────────┘    └──────────────────┘              
```

## 📱 主要画面・機能

### 1. メイン画面
- 質問入力フォーム
- AI回答表示エリア
- 参照ドキュメント表示

### 2. サイドバー
- PDFファイルアップロード
- システム設定（チャンクサイズ等）
- ベクトルストア管理
- システム状態表示

### 3. チャット履歴
- 過去の質問・回答を時系列表示
- 履歴の削除・管理機能

## 🚀 セットアップ手順

### 前提条件
- Docker Desktop がインストール済み
- OpenAI APIキーを取得済み
- Git がインストール済み

### 1. リポジトリのクローン
```bash
git clone https://github.com/ueni-tech/coding-qa-bot.git
cd coding-qa-bot
```

### 2. 環境変数の設定
```bash
# .envファイルを作成
echo "OPENAI_API_KEY=your_api_key_here" > .env
```

### 3. アプリケーションの起動
```bash
# Docker Composeで起動
docker-compose up --build
```

### 4. アクセス
ブラウザで `http://localhost:8501` にアクセス

## 💡 使用方法

1. **PDFアップロード**: サイドバーからコーディング規約PDFをアップロード
2. **システム構築**: 自動的にベクトルデータベースが構築されるまで待機
3. **質問入力**: メイン画面で自然言語による質問を入力
4. **回答確認**: AIが生成した回答と参照元ドキュメントを確認

### 質問例
- "Pythonの変数命名規則を教えて"
- "関数のドキュメント記述方法は？"
- "エラーハンドリングのベストプラクティス"
- "コードレビューのチェックポイントは？"

## 📊 学習・開発プロセス

### 習得した技術
1. **RAG（検索拡張生成）**: ベクトル検索とLLMを組み合わせた回答生成
2. **ベクトルデータベース**: 文書の意味的類似度検索
3. **LangChain**: AI アプリケーション開発フレームワーク
4. **OpenAI API**: 実践的なAI API活用
5. **Docker**: コンテナ化による環境管理

### 技術的な挑戦
- **テキスト分割の最適化**: 文書を適切なサイズに分割し、検索精度を向上
- **プロンプトエンジニアリング**: より正確な回答を得るためのプロンプト設計
- **エラーハンドリング**: 本格運用を想定した堅牢性の確保
- **UI/UX設計**: 非技術者でも使いやすいインターフェース設計

### 開発期間
- **学習期間**: 約2週間（LangChain、RAG概念の理解）
- **開発期間**: 約3週間（段階的な機能実装）
- **合計**: 約5週間

## 🔧 工夫したポイント

### 1. ユーザビリティ
- **段階的なシステム構築**: PDFアップロード → ベクトル化 → 質問対応の流れを明確化
- **視覚的フィードバック**: 処理状況をプログレスバーで表示
- **エラーメッセージ**: 初心者にも分かりやすいエラー説明

### 2. パフォーマンス
- **キャッシング機能**: Streamlitのキャッシュ機能で処理速度向上
- **チャンク最適化**: 文書分割サイズを調整可能にして検索精度とコスト最適化
- **非同期処理**: ユーザー体験を損なわない処理順序

### 3. 運用面
- **データ永続化**: ベクトルデータベースの永続化で再アップロード不要
- **設定の柔軟性**: チャンクサイズなどをGUIで調整可能
- **ログ機能**: デバッグとメンテナンスを考慮したログ出力

## 📈 今後の改善計画

### 短期的な改善
- [ ] 複数PDFファイルの同時対応
- [ ] 質問候補の自動提案機能
- [ ] 回答品質の評価・フィードバック機能
- [ ] レスポンス時間の最適化

### 中期的な拡張
- [ ] ユーザー認証・管理機能
- [ ] 回答の多言語対応
- [ ] 回答結果のエクスポート機能（PDF、Markdown）
- [ ] 検索精度向上のためのファインチューニング

### 長期的な構想
- [ ] 他の文書形式対応（Word、Excel等）
- [ ] 企業向けの権限管理機能
- [ ] API化による他システムとの連携
- [ ] オンプレミス環境での動作対応

## 🎯 このプロジェクトで身についたスキル

### AI・機械学習
- **RAGシステムの設計・実装**: 現代的なAIアプリケーション開発手法
- **ベクトル検索の実装**: 意味的類似度による文書検索
- **プロンプトエンジニアリング**: 効果的なAI活用技術

### ソフトウェア開発
- **フルスタック開発**: バックエンドからフロントエンドまでの一貫した開発
- **Docker活用**: コンテナ化による環境管理・デプロイ
- **依存関係管理**: Poetryによるモダンなパッケージ管理

### 問題解決・設計
- **要件定義**: 実際の業務課題から機能要件を抽出
- **ユーザー中心設計**: 非技術者でも使いやすいUI/UX設計
- **拡張性を考慮した設計**: 将来の機能追加を見据えたアーキテクチャ

---

このプロジェクトは、実務で直面する課題をAI技術で解決することを目的として開発しました。コーディング規約の運用効率化という具体的な価値提供を通じて、AIエンジニアとしての実践的なスキルを身につけることができました。

**「技術を学ぶだけでなく、実際の課題解決に活用する」** ことを常に意識して開発に取り組んでいます。